{% extends "base.html" %}
{% block title %}Artikel bearbeiten{% endblock %}

{% block content %}
<div class="container mt-4">
  <h2 class="mb-4">Artikel bearbeiten: {{ item.name }}</h2>

  <form method="POST">
    <!-- Hidden barcode to ensure it's submitted -->
    <input type="hidden" name="barcode" value="{{ item.barcode }}">

    <div class="mb-3">
      <label class="form-label">Name</label>
      <input name="name" class="form-control" value="{{ item.name }}" required>
    </div>

    <div class="mb-3">
      <label class="form-label">Barcode (nicht änderbar)</label>
      <input class="form-control" value="{{ item.barcode }}" disabled>
    </div>

    <div class="mb-3">
      <label class="form-label">Einkaufspreis</label>
      <input name="purchase_price" type="number" step="0.01" class="form-control" value="{{ item.purchase_price }}" required>
    </div>

    <div class="mb-3">
      <label class="form-label">Verkaufspreis</label>
      <input name="selling_price" type="number" step="0.01" class="form-control" value="{{ item.selling_price }}" required>
    </div>

    <div class="mb-3">
      <label class="form-label">Minimaler Verkaufspreis</label>
      <input name="min_selling_price" type="number" step="0.01" class="form-control" value="{{ item.min_selling_price }}" required>
    </div>

    <div class="mb-3">
      <label class="form-label">Preis</label>
      <input name="price" type="number" step="0.01" class="form-control" value="{{ item.price }}" required>
    </div>

    <div class="mb-3">
      <label class="form-label">Menge</label>
      <input name="quantity" type="number" class="form-control" value="{{ item.quantity }}" required>
    </div>

    <div class="mb-3">
      <label class="form-label">Beschreibung</label>
      <textarea name="description" class="form-control" rows="3">{{ item.description }}</textarea>
    </div>

    <div class="mb-3">
      <label class="form-label">Foto URL (optional)</label>
      <input name="photo_link" class="form-control" value="{{ item.photo_link }}">
    </div>

    <div class="d-flex gap-2">
      <button type="submit" class="btn btn-success">Änderungen speichern</button>
      <a href="{{ url_for('list_items') }}" class="btn btn-secondary">Abbrechen</a>
    </div>
  </form>
</div>
{% endblock %}
